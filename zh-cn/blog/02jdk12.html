<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<meta name="keywords" content="jdk,jdk11,jdk12" />
	<meta name="description" content="还没用上 JDK 11吧，JDK 12 早期访问构建版使用" />
	<!-- 网页标签标题 -->
	<title>还没用上 JDK 11吧，JDK 12 早期访问构建版使用</title>
	<link rel="shortcut icon" href="/img/docsite.ico"/>
	<link rel="stylesheet" href="/build/blogDetail.css" />
</head>
<body>
	<div id="root"><div class="blog-detail-page" data-reactroot="" data-reactid="1" data-react-checksum="-257960328"><header class="header-container header-container-normal" data-reactid="2"><div class="header-body" data-reactid="3"><a href="/zh-cn/index.html" data-reactid="4"><img class="logo" src="/img/dubbo_colorful.png" data-reactid="5"/></a><div class="search search-normal" data-reactid="6"><span class="icon-search" data-reactid="7"></span></div><span class="language-switch language-switch-normal" data-reactid="8">En</span><div class="header-menu" data-reactid="9"><img class="header-menu-toggle" src="/img/system/menu_gray.png" data-reactid="10"/><ul data-reactid="11"><li class="menu-item menu-item-normal" data-reactid="12"><a href="/zh-cn/index.html" target="_self" data-reactid="13">首页</a></li><li class="menu-item menu-item-normal" data-reactid="14"><a href="/zh-cn/docs/disclaimer.html" target="_self" data-reactid="15">文档</a></li><li class="menu-item menu-item-normal menu-item-normal-active" data-reactid="16"><a href="/zh-cn/blog/index.html" target="_self" data-reactid="17">博客</a></li><li class="menu-item menu-item-normal" data-reactid="18"><a href="/zh-cn/community/index.html" target="_self" data-reactid="19">社区</a></li></ul></div></div></header><section class="blog-content markdown-body" data-reactid="20"><h2>还没用上 JDK 11吧，JDK 12 早期访问构建版使用</h2>
<p>JDK 更新速度快的飞起，JDK 12 早期访问构建版已发布，你现在用到了第几版本？</p>
<p>本周Java的最大新闻可能是JDK 11的正式发布。不过在 6 月底，JDK 11 就已经进入了 Rampdown Phase One 阶段，这意味着该版本所有新的功能特性被冻结，不会再加入更多的 JEP，然而，另一个令人兴奋的发展是JDK 12 Early Access Build 12（2018年9月20日）的发布。</p>
<p>JDK 12 早期访问构建版特征如下：</p>
<ul>
<li>目前为止，JEP针对的是JDK 12</li>
<li>JEP 325: Switch Expressions (Preview) 切换表达式</li>
<li>JEP 326: Raw String Literals (Preview) 原始字符串文字</li>
</ul>
<p><strong>本文不聊JDK 11 的新特性。网上太多了，自行搜索。</strong></p>
<p>本文借用，<code>JEP 325,JEP 326</code> 提供的示例，演示一下 <code>JDK 12</code> 的 新特性</p>
<h3>JDK 12 最新的改动</h3>
<p><img src="http://www.ymq.io/images/2018/jdk/jdk12.png" alt=""></p>
<h3>安装JDK12</h3>
<p><a href="http://jdk.java.net/12">http://jdk.java.net/12</a></p>
<p>下载，解压，配置环境变量</p>
<pre><code class="language-sh">$ wget https://download.java.net/java/early_access/jdk12/12/GPL/openjdk-12-ea+12_linux-x64_bin.tar.gz
</code></pre>
<p>查看版本</p>
<pre><code class="language-sh">$ java -version
openjdk version <span class="hljs-string">"12-ea"</span> 2019-03-19
OpenJDK Runtime Environment 19.3 (build 12-ea+12)
OpenJDK 64-Bit Server VM 19.3 (build 12-ea+12, mixed mode)
</code></pre>
<h3>切换表达式例子</h3>
<p><strong>JEP 325: Switch Expressions (Preview)</strong></p>
<pre><code class="language-java"><span class="hljs-keyword">package</span> examples;  

<span class="hljs-comment">/**
* JEP 326 http://openjdk.java.net/jeps/325
* OpenJDK builds http://jdk.java.net/12
*/</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SwitchExpressionsDemo</span>  </span>{  
   <span class="hljs-comment">/** 
    * 这个例子取自JEP 325文本
    * http://openjdk.java.net/jeps/325
    * 
    * <span class="hljs-doctag">@param</span> k Value to be switched upon. 
    */</span>  
   <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">howMany</span><span class="hljs-params">(<span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> k)</span>  </span>{  
      <span class="hljs-keyword">switch</span> (k)  
      {  
         <span class="hljs-keyword">case</span> <span class="hljs-number">1</span> -&gt; System.out.println(<span class="hljs-string">"one"</span>);  
         <span class="hljs-keyword">case</span> <span class="hljs-number">2</span> -&gt; System.out.println(<span class="hljs-string">"two"</span>);  
         <span class="hljs-keyword">case</span> <span class="hljs-number">3</span> -&gt; System.out.println(<span class="hljs-string">"many"</span>);  
      }  
   }  
  
   <span class="hljs-comment">/** 
    * JEP 325：切换表达式（预览）
    * 
    */</span>  
   <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">demonstrateHowMany</span><span class="hljs-params">()</span>  </span>{  
      howMany(<span class="hljs-number">1</span>);  
      howMany(<span class="hljs-number">2</span>);  
      howMany(<span class="hljs-number">3</span>);  
   }  
  
   <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(<span class="hljs-keyword">final</span> String[] arguments)</span>  </span>{  
      demonstrateHowMany();  
   }  
}  
</code></pre>
<p>1、类必须使用 <code>javac --enable-preview --release</code>编译<br>
2、并且必须使用<code>java --enable-preview</code>执行</p>
<p>编译 <code>SwitchExpressionsDemo.java</code></p>
<pre><code class="language-sh">$ javac --<span class="hljs-built_in">enable</span>-preview --release 12 -d build examples/SwitchExpressionsDemo.java
Note: examples/SwitchExpressionsDemo.java uses preview language features.
Note: Recompile with -Xlint:preview <span class="hljs-keyword">for</span> details.
</code></pre>
<p>执行 <code>SwitchExpressionsDemo.java</code></p>
<pre><code class="language-sh">$ java --<span class="hljs-built_in">enable</span>-preview -cp build examples.SwitchExpressionsDemo
</code></pre>
<p>响应</p>
<pre><code class="language-sh">one
two
many
</code></pre>
<p>切换表达式和增强的switch语句：“如果标签匹配，那么只执行箭头标签右侧的表达式或语句,否则不执行。</p>
<h3>原始字符串文字例子</h3>
<p><strong>JEP 326: Raw String Literals (Preview)</strong></p>
<pre><code class="language-java">package examples;

import java.io.IOException;

import static java.lang.System.out;

/**
* JEP 326 http://openjdk.java.net/jeps/326
* OpenJDK builds http://jdk.java.net/12
*/
public class StringDemo{
    
   private static void demonstrateHtml(){
      String html = `
            &lt;html&gt;
               &lt;title&gt;搜云库&lt;/title&gt;
               &lt;meta name="description" content=" 搜云库,专注于开发技术的研究与知识分享"&gt;
               &lt;body&gt;
                  &lt;p&gt;Hello World.&lt;/p&gt;
               &lt;/body&gt;
            &lt;/html&gt;
         `;
      out.println(html.align());
   }

   private static void demonstrateSql(){
      final String query = `
          SELECT EMP_ID, LAST_NAME
            FROM EMPLOYEE_TB
           WHERE CITY = INDIANAPOLIS
           ORDER BY EMP_ID, LAST_NAME;
         `;
      out.println(query);
   }

   private static void demonstratePolyglot(){
      String script = `
      function hello() {
         print('"Hello World  www.souyunku.com "');
      }
      
      hello();
      `;
      out.println(script);
   }

   /**
    * 运行新的原始字符串文字
    */
   public static void main(final String[] arguments){
      demonstrateHtml();
      demonstrateSql();
      demonstratePolyglot();
   }
}
</code></pre>
<p>1、类必须使用 <code>javac --enable-preview --release</code>编译<br>
2、并且必须使用<code>java --enable-preview</code>执行</p>
<p>编译 <code>StringDemo.java</code></p>
<pre><code class="language-sh">$ javac --<span class="hljs-built_in">enable</span>-preview --release 12 -d build examples/StringDemo.java
Note: examples/StringDemo.java uses preview language features.
Note: Recompile with -Xlint:preview <span class="hljs-keyword">for</span> details.
</code></pre>
<p>执行 <code>StringDemo.java</code></p>
<pre><code class="language-sh">$ java --<span class="hljs-built_in">enable</span>-preview -cp build examples.StringDemo
</code></pre>
<p>响应</p>
<pre><code class="language-sh">&lt;html&gt;
&lt;title&gt;搜云库&lt;/title&gt;
&lt;meta name=<span class="hljs-string">"description"</span> content=<span class="hljs-string">" 搜云库,专注于开发技术的研究与知识分享"</span>&gt;
 &lt;body&gt;
    &lt;p&gt;Hello World.&lt;/p&gt;
 &lt;/body&gt;
&lt;/html&gt;

  SELECT EMP_ID, LAST_NAME
    FROM EMPLOYEE_TB
   WHERE CITY = INDIANAPOLIS
   ORDER BY EMP_ID, LAST_NAME;
         
  <span class="hljs-keyword">function</span> <span class="hljs-function"><span class="hljs-title">hello</span></span>() {
     <span class="hljs-built_in">print</span>(<span class="hljs-string">'"Hello World  www.souyunku.com "'</span>);
  }
  
  hello();
</code></pre>
<h3>往期精彩阅读</h3>
<ul>
<li><a href="https://mp.weixin.qq.com/s?__biz=MzA3MTUzOTcxOQ==&amp;mid=2452964737&amp;idx=1&amp;sn=50d1f0ebaad141cb010c2b61d53f615a&amp;chksm=88ede8e9bf9a61ff25548c94a960e192cf19b8e86e49fe18fa16dc1f07d167a3d4c539983441&amp;scene=21#wechat_redirect">Dubbo 整合 Pinpoint 做分布式服务请求跟踪</a></li>
<li><a href="https://mp.weixin.qq.com/s?__biz=MzA3MTUzOTcxOQ==&amp;mid=2452964832&amp;idx=1&amp;sn=40bd7f711ebee535129d4dc71e5e678d&amp;chksm=88ede888bf9a619eae04527a78210e33ca7b3a402af32ec6fd96a4f14a5cc01de2896f90871d#rd">Java并发：分布式应用限流实践</a></li>
<li><a href="http://mp.weixin.qq.com/s?__biz=MzA3MTUzOTcxOQ==&amp;mid=2452964796&amp;idx=1&amp;sn=281842ac2a970d67b3946c85196b6cf4&amp;chksm=88ede8d4bf9a61c2b1a5a19759098f88e56d6d0958667af90cc99fec863bb47e4cf4d26366ea&amp;scene=21#wechat_redirect">接口限流：漏桶算法&amp;令牌桶算法</a></li>
<li><a href="https://mp.weixin.qq.com/s?__biz=MzA3MTUzOTcxOQ==&amp;mid=2452964828&amp;idx=1&amp;sn=6d656bee2728f11f7cdc0cdb31eddef8&amp;chksm=88ede8b4bf9a61a2cb8cbc8aa7744d400e409c961d1929fac19d3331ae4ee5c45241e8673cab#rd">Java并发：Semaphore信号量源码分析</a></li>
<li><a href="http://mp.weixin.qq.com/s?__biz=MzA3MTUzOTcxOQ==&amp;mid=2452964789&amp;idx=1&amp;sn=4f30e409bb259cfce0248dfc0af0eae0&amp;chksm=88ede8ddbf9a61cbad5dff5d9bf27ca61b4c87fda481fabace8b89314e009a750046154e8def&amp;scene=21#wechat_redirect">Java并发：深入浅出AQS之共享锁模式源码分析</a></li>
<li><a href="http://mp.weixin.qq.com/s?__biz=MzA3MTUzOTcxOQ==&amp;mid=2452964775&amp;idx=1&amp;sn=8442e35afb18d124c85e54de40a2ee29&amp;chksm=88ede8cfbf9a61d9df1832319603afdeecb235895a97ed10ec873bcfd4142bde0e8efe78b27d&amp;scene=21#wechat_redirect">Java并发：深入浅出AQS之独占锁模式源码分析</a></li>
<li><a href="http://mp.weixin.qq.com/s?__biz=MzA3MTUzOTcxOQ==&amp;mid=2452964769&amp;idx=1&amp;sn=ca172d2a6b883da41e7e89602d5036c4&amp;chksm=88ede8c9bf9a61df8dea9f4194dea60a419e87191384eddc53aa4a38fdfac9b0224a75fb9615&amp;scene=21#wechat_redirect">Java并发：了解无锁CAS就从源码分析</a></li>
<li><a href="http://mp.weixin.qq.com/s?__biz=MzA3MTUzOTcxOQ==&amp;mid=2452964742&amp;idx=1&amp;sn=7359ef8dc9bc520acc1b86afe85f7c3d&amp;chksm=88ede8eebf9a61f8d93de1e8aeb9bcc0caafa2522db113cab9d23f9786e5480dce1735209d8b&amp;scene=21#wechat_redirect">Java并发：CAS原理分析</a></li>
</ul>
<h1>Contact</h1>
<ul>
<li>作者：鹏磊</li>
<li>出处：<a href="http://www.ymq.io/2018/09/27/jdk12">http://www.ymq.io/2018/09/27/jdk12</a></li>
<li>版权归作者所有，转载请注明出处</li>
</ul>
</section><footer class="footer-container" data-reactid="21"><div class="footer-body" data-reactid="22"><img src="/img/dubbo_gray.png" data-reactid="23"/><div class="cols-container" data-reactid="24"><div class="col col-12" data-reactid="25"><h3 data-reactid="26">免责声明</h3><p data-reactid="27">网站所有作品均由网上搜集共同更新，仅供读者预览及学习交流使用，下载后请24小时内删除，如果喜欢请购买正版资源!原作者如果认为本站侵犯了您的版权,请QQ告知,我们会立即删除!</p></div><div class="col col-6" data-reactid="28"><dl data-reactid="29"><dt data-reactid="30">文档</dt><dd data-reactid="31"><a href="/zh-cn/docs/disclaimer.html" target="_self" data-reactid="32">推荐文档</a></dd></dl></div><div class="col col-6" data-reactid="33"><dl data-reactid="34"><dt data-reactid="35">资源</dt><dd data-reactid="36"><a href="https://github.com/souyunkutech" target="_self" data-reactid="37">Github</a></dd><dd data-reactid="38"><a href="/zh-cn/community/index.html" target="_self" data-reactid="39">社区</a></dd><dd data-reactid="40"><a href="https://docsite.js.org/en-us/docs/installation.html" target="_self" data-reactid="41">本站使用 Docsite 构建</a></dd></dl></div></div><div class="copyright" data-reactid="42"><span data-reactid="43">Copyright © 2018 搜云库技术团队 All rights reserved.</span></div></div></footer></div></div>
	<script src="https://f.alicdn.com/react/15.4.1/react-with-addons.min.js"></script>
	<script src="https://f.alicdn.com/react/15.4.1/react-dom.min.js"></script>
	<script>
		window.rootPath = '';
  </script>
	<script src="/build/blogDetail.js"></script>
</body>
</html>